$document.ready(function(){function e(e){return e.next().length?e.next():d.first()}function a(e){return e.prev().length?e.prev():d.last()}function t(t){var n="backward"===$(this).data("direction")?"backward":"forward",s=r.find(".selected"),i=0,l=d.length,o=2;for(t&&(r.data("state","paused"),r.trigger("state-changed")),s=s.length?s:d.first(),s.removeClass("selected expanded"),s="forward"===n?e(s):a(s),s.addClass("selected"),c.removeClass("selected"),c.eq(s.index()).addClass("selected");l>i;i++)o=o===l+1?1:o,s.css("order",o++),s=e(s);r.addClass("hold"),r[("forward"===n?"remove":"add")+"Class"]("reverse"),window.setTimeout(function(){r.removeClass("hold")},50)}var n,r=$(".carousel"),d=r.children(),s=$(".carousel-controls"),i=s.find("button"),c=s.find("li"),l=r.data("interval");r.on("state-changed",function(){switch(r.data("state")){case"playing":case"running":l&&(n=window.setInterval(t,l));break;case"paused":window.clearInterval(n)}}),r.hammer().bind("swiperight",function(){i.filter("[data-direction=backward]").click()}),r.hammer().bind("swipeleft",t),i.click(t),r.trigger("state-changed")});